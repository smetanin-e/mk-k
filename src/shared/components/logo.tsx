'use client';
import { useTheme } from 'next-themes';
import React from 'react';

interface Props {
  className?: string;
  width: number;
  height: number;
}

export const Logo: React.FC<Props> = ({ width, height }) => {
  const { theme, resolvedTheme } = useTheme();
  const [mounted, setMounted] = React.useState(false);

  // Ждём, пока компонент смонтируется на клиенте
  React.useEffect(() => setMounted(true), []);

  if (!mounted) {
    // ⚠️ Пока Next.js не знает тему (на сервере) — не рендерим SVG
    // Это предотвращает расхождение HTML между SSR и клиентом
    return (
      <div style={{ width, height }} /> // Можно вернуть placeholder, чтобы не прыгала верстка
    );
  }

  const currentTheme = theme === 'system' ? resolvedTheme : theme;
  const fillColor = currentTheme === 'light' ? '#0A0471FF' : '#ffffff';
  return (
    <div>
      <svg
        xmlns='http://www.w3.org/2000/svg'
        version='1.0'
        width={width}
        height={height}
        viewBox='0 0 350.000000 350.000000'
        preserveAspectRatio='xMidYMid meet'
      >
        <g
          transform='translate(0.000000,350.000000) scale(0.100000,-0.100000)'
          fill={fillColor}
          stroke='none'
        >
          <path d='M830 3135 l-246 -245 -116 0 c-93 0 -120 -3 -132 -16 -25 -25 -19 -42 33 -97 l50 -52 -150 -151 -149 -150 0 -669 0 -669 187 -188 187 -187 -3 -106 c-4 -164 28 -194 120 -108 l50 47 207 -207 208 -207 669 0 669 0 208 207 207 207 50 -47 c28 -26 58 -47 68 -47 43 1 48 14 51 148 l4 129 184 184 184 184 0 664 0 665 -149 150 -150 151 50 52 c52 55 58 72 33 97 -12 13 -39 16 -132 16 l-116 0 -246 245 -246 245 -669 0 -669 0 -246 -245z m1786 -17 c118 -117 214 -216 214 -220 0 -5 -33 -8 -73 -8 l-72 0 -165 165 -165 165 -610 0 -610 0 -165 -165 -165 -165 -72 0 c-40 0 -73 3 -73 6 0 3 96 102 213 220 l213 214 658 0 659 0 213 -212z m-183 -100 c64 -62 117 -116 117 -120 0 -5 -10 -8 -22 -8 -16 0 -130 -108 -400 -377 l-378 -378 -208 207 c-404 401 -553 543 -578 546 -13 2 -24 5 -24 7 0 2 53 55 117 119 l118 116 570 0 570 0 118 -112z m-1180 -517 c420 -415 479 -470 502 -471 13 0 154 135 405 385 l385 385 235 -1 235 0 -634 -630 c-349 -346 -637 -629 -640 -629 -3 0 -290 284 -636 630 l-630 630 238 0 238 0 302 -299z m-760 151 l37 -38 -125 -124 -125 -125 0 -610 0 -610 106 -106 105 -105 2 -77 c1 -42 0 -77 -3 -77 -3 0 -76 71 -162 157 l-158 158 0 660 0 660 137 137 c76 76 140 138 143 138 3 0 23 -17 43 -38z m2689 -99 l138 -138 0 -655 0 -655 -157 -157 c-87 -87 -160 -158 -163 -158 -3 0 -4 33 -2 73 l3 72 105 104 104 104 0 611 0 611 -125 125 -125 124 37 38 c20 21 39 38 42 38 3 0 68 -62 143 -137z m-2027 -563 c442 -443 565 -560 585 -560 20 0 89 64 315 291 160 160 415 412 568 561 l278 272 110 -110 109 -109 0 -580 0 -579 -57 -58 c-32 -32 -60 -58 -63 -58 -3 0 -4 294 -2 654 2 622 1 655 -16 676 -14 17 -25 21 -43 17 -13 -3 -131 -113 -261 -245 l-238 -238 0 -494 0 -495 110 -110 110 -110 -168 -168 -168 -167 -574 -1 -575 -1 -167 162 c-93 90 -168 168 -168 173 0 6 49 61 110 122 l110 112 0 483 0 484 -242 243 c-134 135 -254 247 -267 250 -18 4 -29 0 -43 -17 -18 -22 -18 -53 -16 -676 2 -360 1 -654 -2 -654 -3 0 -31 26 -63 58 l-57 58 0 579 0 580 107 107 c59 60 110 108 113 108 3 0 257 -252 565 -560z m-373 73 l188 -188 0 -450 0 -450 -186 -180 c-102 -99 -189 -181 -192 -183 -4 -1 -7 367 -7 818 0 451 2 820 5 820 3 0 89 -84 192 -187z m2128 -634 c0 -513 -4 -819 -10 -817 -5 2 -93 86 -195 187 l-185 184 0 446 0 446 187 187 c103 104 191 188 195 188 4 0 8 -369 8 -821z m-1955 -959 l180 -180 610 0 610 0 182 182 183 183 37 -38 37 -37 -49 -52 c-28 -29 -115 -119 -195 -200 l-145 -148 -660 0 -660 0 -192 192 c-106 106 -193 197 -193 202 0 11 60 76 70 76 3 0 86 -81 185 -180z' />
        </g>
      </svg>
    </div>
  );
};
